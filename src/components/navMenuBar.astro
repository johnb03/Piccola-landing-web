---
import "../styles/global.css";
import Logo from "../assets/Logo-menu.svg";
const props = Astro.props;
import logo from "../assets/logo.svg";
import { Image } from "astro:assets";
---

<!-- nav html -->
<nav class="relative">
  <div class="navigation">
    <a href="#">
      <Logo width="100%" height="auto" />
    </a>
    <p class="menu-text">From 2020</p>
    <div class="toogle">
      <span></span>
    </div>
  </div>
  <!-- menu links -->
  <div class="menu">
    <Image class="max-w-3/6 h-auto" src={logo} alt="logo" />
    <ul>
      <li><a href="">Contacto</a></li>
      <li><a href="">Catalogo</a></li>
      <li><a href="">Location</a></li>
      <li><a href="">Acerca de</a></li>
      <div class="menu-icons">
        <a href=""
          ><svg
            xmlns="http://www.w3.org/2000/svg"
            width="60"
            height="60"
            viewBox="0 0 24 24"
            {...props}
          >
            <g fill="none" stroke="#fafafa" stroke-width="1.5">
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M12 16a4 4 0 1 0 0-8a4 4 0 0 0 0 8"></path>
              <path
                d="M3 16V8a5 5 0 0 1 5-5h8a5 5 0 0 1 5 5v8a5 5 0 0 1-5 5H8a5 5 0 0 1-5-5Z"
              ></path>
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="m17.5 6.51l.01-.011"></path>
            </g>
          </svg></a
        >

        <a href=""
          ><svg
            xmlns="http://www.w3.org/2000/svg"
            width="60"
            height="60"
            viewBox="0 0 512 512"
            {...props}
          >
            <path
              fill="none"
              stroke="#fafafa"
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="32"
              d="M256 48c-79.5 0-144 61.39-144 137c0 87 96 224.87 131.25 272.49a15.77 15.77 0 0 0 25.5 0C304 409.89 400 272.07 400 185c0-75.61-64.5-137-144-137"
            ></path>
            <circle
              cx="256"
              cy="192"
              r="48"
              fill="none"
              stroke="#fafafa"
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="32"></circle>
          </svg></a
        >
      </div>
    </ul>
  </div>

  <!-- styles -->
  <style>
    nav {
      /* width: 80dvh; */
    }
    .navigation {
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: transparent;
      height: 40px;
      width: 100%;
      position: relative; /* Mantenemos relative para z-index y posicionamiento de hijos */
      z-index: 100; /* Aseguramos que la barra de navegación esté por encima de otro contenido */
      & a {
        width: 3.5em;
        padding: 5px;
      }
    }

    .toogle {
      width: 50px;
      cursor: pointer;
      display: flex;
      justify-content: flex-end;
      align-items: center;
      padding: 5px 20px;
      z-index: 101; /* El botón debe estar sobre el menú */
      position: relative;
    }

    .menu {
      position: absolute;
      display: flex;
      flex-direction: column;
      justify-content: space-around;
      align-items: center;
      top: 40px;
      right: 0;
      width: 310px;
      height: 400px;
      background: transparent;
      transition: 0.5s;
      border-radius: 10px 0px 0px 10px;
      z-index: 200;
      padding: 10px;
      
    }

    .menu::before{
      content: "";
      width: inherit;
      height: inherit;
      background: rgba(14, 111, 116, 0.7);
      position: absolute;
       border-radius: 10px 0px 0px 10px;
       backdrop-filter: blur(10px);
       z-index: -1;
    }

    .menu ul {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 1rem;
      width: 200px;
    }
    .menu ul li a {
      color: var(--color-white);
    }

    .menu-icons {
      display: flex;
      gap: 3rem;
    }

    .menu-text {
      font-weight: lighter;
      letter-spacing: 8px;
      
    }


    .toogle span {
      position: relative;
      width: 20px;
      height: 50px;
    }

    .toogle span::before {
      content: "";
      position: absolute;
      top: 20px;
      left: 0;
      width: 100%;
      height: 2px;
      background: var(--color-primary-Dark);
      transition: 0.5s;
    }

    .toogle span::after {
      content: "";
      position: absolute;
      bottom: 20px;
      left: 0;
      width: 100%;
      height: 2px;
      background: var(--color-primary-Dark);
      transition: 0.5s;
    }

    .toogle.active span::before {
      transform: rotate(225deg);

      top: 25px;
    }
    .toogle.active span::after {
      transform: rotate(135deg);
      top: 25px;
    }

    .menu {
      transform: translateX(450px);
    }

    .menu.active {
      transform: translateX(0px);
    }
  </style>

  <script>
    const menu: Element | null = document.querySelector(".menu");
    const toogleButton: Element | null = document.querySelector(".toogle");
    if (menu && toogleButton) {
      toogleButton.addEventListener("click", function (this: Element) {
        this.classList.toggle("active");
        menu.classList.toggle("active");
      });
    }
  </script>
</nav>
